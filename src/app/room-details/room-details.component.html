<div 
  class="fixed inset-0 bg-black/25 backdrop-blur-sm flex items-center justify-center z-50"
  (click)="onClose()"
  >
  <div 
  class="bg-white rounded-lg shadow-xl p-6 max-w-2/3 w-full m-4"
  @fadeSlideInOut
    (click)="$event.stopPropagation()"
  >
    <!-- Header -->
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Room {{ roomData.roomName }}</h2>
      <button 
        class="text-gray-500 hover:text-gray-700"
        (click)="onClose()"
      >
        ✕
      </button>
    </div>

    <!-- Main Content: Info on Left, Charts on Right -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Left: Room Information (Table) -->
      <div>
        <table class="w-full border border-gray-200 rounded-lg">
          <thead>
            <tr class="bg-gray-100">
              <th class="px-4 py-2 text-left text-gray-700 font-medium">Utility</th>
              <th class="px-4 py-2 text-left text-gray-700 font-medium">Details</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr>
              <td class="px-4 py-2 font-medium text-gray-700">Electricity</td>
              <td class="px-4 py-2">
                <div>Past: {{ roomData.pastElectricity }} kWh</div>
                <div>Current: {{ roomData.currentElectricity }} kWh</div>
                <div class="text-red-500">Unpaid: ${{ roomData.unpaidElectricityFee }}</div>
              </td>
            </tr>
            <tr>
              <td class="px-4 py-2 font-medium text-gray-700">Water</td>
              <td class="px-4 py-2">
                <div>Past: {{ roomData.pastWater }} m³</div>
                <div>Current: {{ roomData.currentWater }} m³</div>
                <div class="text-red-500">Unpaid: ${{ roomData.unpaidWaterFee }}</div>
              </td>
            </tr>
            <tr>
              <td class="px-4 py-2 font-medium text-gray-700">Total</td>
              <td class="px-4 py-2">
                <div class="font-semibold text-gray-700">Total Unpaid: ${{ roomData.totalFee }}</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Right: Charts -->
      <div class="flex flex-col gap-4">
        <!-- Electricity Chart -->
        <div>
          <h3 class="text-lg font-medium text-gray-700 mb-2">Electricity Usage (Past 30 Days)</h3>
          <div class="bg-gray-50 p-4 rounded-lg">
            <canvas
              baseChart
              [data]="electricityChartData"
              [options]="chartOptions"
              type="bar"
              class="h-50"
            ></canvas>
          </div>
        </div>
        <!-- Water Chart -->
        <div>
          <h3 class="text-lg font-medium text-gray-700 mb-2">Water Usage (Past 30 Days)</h3>
          <div class="bg-gray-50 p-4 rounded-lg">
            <canvas
              baseChart
              [data]="waterChartData"
              [options]="chartOptions"
              type="bar"
              class="h-50"
            ></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex justify-end mt-6">
      <button
        class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded mr-2"
      >
        Print PDF
      </button>
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
        (click)="onClose()"
      >
        Close
      </button>
    </div>
  </div>
</div>
